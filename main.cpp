#include "Servo.h"
#include "cstdio"

#define DEBUG
int main() {
    
    //Servo test;
    //test.Stand();
/*    
    LocalFileSystem local("local");
    if(freopen("/local/test.txt","r",stdin)==NULL) return 0;
    char cmd[250];

#ifdef DEBUG
    DigitalOut debug(LED1); debug=1;
#endif
    while(scanf("%s",cmd)==1)
    {
        Serial Com(p9,p10);
        Com.printf("%s",cmd);
        wait_ms(1000);
    }

#ifdef DEBUG
    debug=0;
#endif
    fclose(stdin);
    
    Serial pc(USBTX,USBRX);
    pc.printf("Hello World!\n");
    return 0;
*/  
    Serial Com(p9,p10);
    
    while(1)
    {
    Servo test;
    test.Stand();
    int dtime=500;
    Com.printf("%s","#1P1300T500#2P2000T500#3P1800T500#4P1300T500#5P2000T500#6P1200T500#7P1300T500#8P2000T500#9P1500T500#10P1300T500#11P2000T500#12P1500T500#13P1300T500#14P2000T500#15P1200T500#16P1300T500#17P2000T500#18P1800T500\r\n");
    wait_ms(dtime);
    Com.printf("%s","#1P1500T500#2P1500T500#3P1500T500#4P1500T500#5P1500T500#6P1500T500#7P1500T500#8P1500T500#9P1500T500#10P1500T500#11P1500T500#12P1500T500#13P1500T500#14P1500T500#15P1500T500#16P1500T500#17P1500T500#18P1500T500\r\n");
    wait_ms(dtime);
    Com.printf("%s","#1P1500T500#2P800T500#3P1500T500#4P1500T500#5P800T500#6P1500T500#7P1500T500#8P800T500#9P1500T500#10P1500T500#11P800T500#12P1500T500#13P1500T500#14P800T500#15P1500T500#16P1500T500#17P800T500#18P1500T500\r\n");
    wait_ms(dtime);
    Com.printf("%s","#1P2200T500#2P800T500#3P1500T500#4P2200T500#5P800T500#6P1500T500#7P2200T500#8P800T500#9P1500T500#10P2200T500#11P800T500#12P1500T500#13P2200T500#14P800T500#15P1500T500#16P2200T500#17P800T500#18P1500T500\r\n");
    wait_ms(dtime); 
    Com.printf("%s","#1P2200T500#2P800T500#3P2000T500#4P2200T500#5P800T500#6P1500T500#7P2200T500#8P800T500#9P1500T500#10P2200T500#11P800T500#12P1500T500#13P2200T500#14P800T500#15P1000T500#16P2200T500#17P800T500#18P1500T500\r\n");
    wait_ms(dtime); 
    }
}